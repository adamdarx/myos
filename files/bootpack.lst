     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_font
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    19                                          [SECTION .text]
    20 00000000                                 	GLOBAL	_HariMain
    21 00000000                                 _HariMain:
    22 00000000 55                              	PUSH	EBP
    23 00000001 89 E5                           	MOV	EBP,ESP
    24 00000003 57                              	PUSH	EDI
    25 00000004 56                              	PUSH	ESI
    26 00000005 53                              	PUSH	EBX
    27 00000006 83 EC 48                        	SUB	ESP,72
    28 00000009 E8 000001D5                     	CALL	_init_palette
    29 0000000E 0F BF 1D 00000FF6               	MOVSX	EBX,WORD [4086]
    30 00000015 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    31 0000001C 89 45 B8                        	MOV	DWORD [-72+EBP],EAX
    32 0000001F A1 00000FF8                     	MOV	EAX,DWORD [4088]
    33 00000024 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
    34 00000027 8B 75 B8                        	MOV	ESI,DWORD [-72+EBP]
    35 0000002A 8D 43 E3                        	LEA	EAX,DWORD [-29+EBX]
    36 0000002D 4E                              	DEC	ESI
    37 0000002E 50                              	PUSH	EAX
    38 0000002F 56                              	PUSH	ESI
    39 00000030 6A 00                           	PUSH	0
    40 00000032 6A 00                           	PUSH	0
    41 00000034 6A 0E                           	PUSH	14
    42 00000036 FF 75 B8                        	PUSH	DWORD [-72+EBP]
    43 00000039 FF 75 C0                        	PUSH	DWORD [-64+EBP]
    44 0000003C E8 0000023D                     	CALL	_draw_rectangle
    45 00000041 8D 43 E4                        	LEA	EAX,DWORD [-28+EBX]
    46 00000044 50                              	PUSH	EAX
    47 00000045 56                              	PUSH	ESI
    48 00000046 50                              	PUSH	EAX
    49 00000047 6A 00                           	PUSH	0
    50 00000049 6A 08                           	PUSH	8
    51 0000004B FF 75 B8                        	PUSH	DWORD [-72+EBP]
    52 0000004E FF 75 C0                        	PUSH	DWORD [-64+EBP]
    53 00000051 E8 00000228                     	CALL	_draw_rectangle
    54 00000056 8D 43 E5                        	LEA	EAX,DWORD [-27+EBX]
    55 00000059 83 C4 38                        	ADD	ESP,56
    56 0000005C 50                              	PUSH	EAX
    57 0000005D 56                              	PUSH	ESI
    58 0000005E 50                              	PUSH	EAX
    59 0000005F 6A 00                           	PUSH	0
    60 00000061 6A 07                           	PUSH	7
    61 00000063 FF 75 B8                        	PUSH	DWORD [-72+EBP]
    62 00000066 FF 75 C0                        	PUSH	DWORD [-64+EBP]
    63 00000069 E8 00000210                     	CALL	_draw_rectangle
    64 0000006E 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
    65 00000071 50                              	PUSH	EAX
    66 00000072 8D 43 E6                        	LEA	EAX,DWORD [-26+EBX]
    67 00000075 56                              	PUSH	ESI
    68 00000076 50                              	PUSH	EAX
    69 00000077 6A 00                           	PUSH	0
    70 00000079 6A 08                           	PUSH	8
    71 0000007B FF 75 B8                        	PUSH	DWORD [-72+EBP]
    72 0000007E FF 75 C0                        	PUSH	DWORD [-64+EBP]
    73 00000081 E8 000001F8                     	CALL	_draw_rectangle
    74 00000086 8D 43 E8                        	LEA	EAX,DWORD [-24+EBX]
    75 00000089 83 C4 38                        	ADD	ESP,56
    76 0000008C 89 45 B4                        	MOV	DWORD [-76+EBP],EAX
    77 0000008F 50                              	PUSH	EAX
    78 00000090 6A 3B                           	PUSH	59
    79 00000092 50                              	PUSH	EAX
    80 00000093 6A 03                           	PUSH	3
    81 00000095 6A 07                           	PUSH	7
    82 00000097 FF 75 B8                        	PUSH	DWORD [-72+EBP]
    83 0000009A FF 75 C0                        	PUSH	DWORD [-64+EBP]
    84 0000009D E8 000001DC                     	CALL	_draw_rectangle
    85 000000A2 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
    86 000000A5 50                              	PUSH	EAX
    87 000000A6 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    88 000000A9 6A 02                           	PUSH	2
    89 000000AB FF 75 B4                        	PUSH	DWORD [-76+EBP]
    90 000000AE 6A 02                           	PUSH	2
    91 000000B0 6A 07                           	PUSH	7
    92 000000B2 FF 75 B8                        	PUSH	DWORD [-72+EBP]
    93 000000B5 FF 75 C0                        	PUSH	DWORD [-64+EBP]
    94 000000B8 E8 000001C1                     	CALL	_draw_rectangle
    95 000000BD 83 C4 38                        	ADD	ESP,56
    96 000000C0 FF 75 B0                        	PUSH	DWORD [-80+EBP]
    97 000000C3 6A 3B                           	PUSH	59
    98 000000C5 FF 75 B0                        	PUSH	DWORD [-80+EBP]
    99 000000C8 6A 03                           	PUSH	3
   100 000000CA 6A 0F                           	PUSH	15
   101 000000CC FF 75 B8                        	PUSH	DWORD [-72+EBP]
   102 000000CF FF 75 C0                        	PUSH	DWORD [-64+EBP]
   103 000000D2 E8 000001A7                     	CALL	_draw_rectangle
   104 000000D7 8D 43 FB                        	LEA	EAX,DWORD [-5+EBX]
   105 000000DA 50                              	PUSH	EAX
   106 000000DB 8D 43 E9                        	LEA	EAX,DWORD [-23+EBX]
   107 000000DE 6A 3B                           	PUSH	59
   108 000000E0 89 45 AC                        	MOV	DWORD [-84+EBP],EAX
   109 000000E3 50                              	PUSH	EAX
   110 000000E4 83 EB 03                        	SUB	EBX,3
   111 000000E7 6A 3B                           	PUSH	59
   112 000000E9 6A 0F                           	PUSH	15
   113 000000EB FF 75 B8                        	PUSH	DWORD [-72+EBP]
   114 000000EE FF 75 C0                        	PUSH	DWORD [-64+EBP]
   115 000000F1 E8 00000188                     	CALL	_draw_rectangle
   116 000000F6 83 C4 38                        	ADD	ESP,56
   117 000000F9 53                              	PUSH	EBX
   118 000000FA 6A 3B                           	PUSH	59
   119 000000FC 53                              	PUSH	EBX
   120 000000FD 6A 02                           	PUSH	2
   121 000000FF 6A 00                           	PUSH	0
   122 00000101 FF 75 B8                        	PUSH	DWORD [-72+EBP]
   123 00000104 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   124 00000107 E8 00000172                     	CALL	_draw_rectangle
   125 0000010C 53                              	PUSH	EBX
   126 0000010D 6A 3C                           	PUSH	60
   127 0000010F FF 75 B4                        	PUSH	DWORD [-76+EBP]
   128 00000112 6A 3C                           	PUSH	60
   129 00000114 6A 00                           	PUSH	0
   130 00000116 FF 75 B8                        	PUSH	DWORD [-72+EBP]
   131 00000119 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   132 0000011C E8 0000015D                     	CALL	_draw_rectangle
   133 00000121 8B 75 B8                        	MOV	ESI,DWORD [-72+EBP]
   134 00000124 83 C4 38                        	ADD	ESP,56
   135 00000127 8B 7D B8                        	MOV	EDI,DWORD [-72+EBP]
   136 0000012A FF 75 B4                        	PUSH	DWORD [-76+EBP]
   137 0000012D 83 EF 04                        	SUB	EDI,4
   138 00000130 83 EE 2F                        	SUB	ESI,47
   139 00000133 57                              	PUSH	EDI
   140 00000134 FF 75 B4                        	PUSH	DWORD [-76+EBP]
   141 00000137 56                              	PUSH	ESI
   142 00000138 6A 0F                           	PUSH	15
   143 0000013A FF 75 B8                        	PUSH	DWORD [-72+EBP]
   144 0000013D FF 75 C0                        	PUSH	DWORD [-64+EBP]
   145 00000140 E8 00000139                     	CALL	_draw_rectangle
   146 00000145 FF 75 B0                        	PUSH	DWORD [-80+EBP]
   147 00000148 56                              	PUSH	ESI
   148 00000149 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   149 0000014C 56                              	PUSH	ESI
   150 0000014D 6A 0F                           	PUSH	15
   151 0000014F FF 75 B8                        	PUSH	DWORD [-72+EBP]
   152 00000152 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   153 00000155 E8 00000124                     	CALL	_draw_rectangle
   154 0000015A 83 C4 38                        	ADD	ESP,56
   155 0000015D 53                              	PUSH	EBX
   156 0000015E 57                              	PUSH	EDI
   157 0000015F 53                              	PUSH	EBX
   158 00000160 56                              	PUSH	ESI
   159 00000161 6A 07                           	PUSH	7
   160 00000163 FF 75 B8                        	PUSH	DWORD [-72+EBP]
   161 00000166 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   162 00000169 E8 00000110                     	CALL	_draw_rectangle
   163 0000016E 8B 45 B8                        	MOV	EAX,DWORD [-72+EBP]
   164 00000171 53                              	PUSH	EBX
   165 00000172 83 E8 03                        	SUB	EAX,3
   166 00000175 50                              	PUSH	EAX
   167 00000176 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   168 00000179 FF 75 B4                        	PUSH	DWORD [-76+EBP]
   169 0000017C 50                              	PUSH	EAX
   170 0000017D 6A 07                           	PUSH	7
   171 0000017F FF 75 B8                        	PUSH	DWORD [-72+EBP]
   172 00000182 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   173 00000185 E8 000000F4                     	CALL	_draw_rectangle
   174 0000018A 83 C4 38                        	ADD	ESP,56
   175 0000018D 6A 4E                           	PUSH	78
   176 0000018F 68 00000098                     	PUSH	152
   177 00000194 68 [00000000]                   	PUSH	LC0
   178 00000199 53                              	PUSH	EBX
   179 0000019A E8 [00000000]                   	CALL	_sprintf
   180 0000019F 53                              	PUSH	EBX
   181 000001A0 6A 07                           	PUSH	7
   182 000001A2 6A 08                           	PUSH	8
   183 000001A4 6A 08                           	PUSH	8
   184 000001A6 FF 75 B8                        	PUSH	DWORD [-72+EBP]
   185 000001A9 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   186 000001AC E8 00000224                     	CALL	_putfont8_str
   187 000001B1 83 C4 28                        	ADD	ESP,40
   188 000001B4 6A 0E                           	PUSH	14
   189 000001B6 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   190 000001B9 E8 0000027B                     	CALL	_init_mouse_cursor8
   191 000001BE 6A 10                           	PUSH	16
   192 000001C0 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   193 000001C3 6A 4E                           	PUSH	78
   194 000001C5 68 00000098                     	PUSH	152
   195 000001CA 6A 10                           	PUSH	16
   196 000001CC 6A 10                           	PUSH	16
   197 000001CE FF 75 B8                        	PUSH	DWORD [-72+EBP]
   198 000001D1 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   199 000001D4 E8 000002BD                     	CALL	_putblock8_8
   200 000001D9 83 C4 28                        	ADD	ESP,40
   201 000001DC                                 L5:
   202 000001DC E8 [00000000]                   	CALL	_io_hlt
   203 000001E1 EB F9                           	JMP	L5
   204                                          [SECTION .data]
   205 00000009                                 _table_rgb.0:
   206 00000009 00                              	DB	0
   207 0000000A 00                              	DB	0
   208 0000000B 00                              	DB	0
   209 0000000C FF                              	DB	-1
   210 0000000D 00                              	DB	0
   211 0000000E 00                              	DB	0
   212 0000000F 00                              	DB	0
   213 00000010 FF                              	DB	-1
   214 00000011 00                              	DB	0
   215 00000012 FF                              	DB	-1
   216 00000013 FF                              	DB	-1
   217 00000014 00                              	DB	0
   218 00000015 00                              	DB	0
   219 00000016 00                              	DB	0
   220 00000017 FF                              	DB	-1
   221 00000018 00                              	DB	0
   222 00000019 FF                              	DB	-1
   223 0000001A FF                              	DB	-1
   224 0000001B FF                              	DB	-1
   225 0000001C 00                              	DB	0
   226 0000001D FF                              	DB	-1
   227 0000001E FF                              	DB	-1
   228 0000001F FF                              	DB	-1
   229 00000020 FF                              	DB	-1
   230 00000021 C6                              	DB	-58
   231 00000022 C6                              	DB	-58
   232 00000023 C6                              	DB	-58
   233 00000024 84                              	DB	-124
   234 00000025 00                              	DB	0
   235 00000026 00                              	DB	0
   236 00000027 00                              	DB	0
   237 00000028 84                              	DB	-124
   238 00000029 00                              	DB	0
   239 0000002A 84                              	DB	-124
   240 0000002B 84                              	DB	-124
   241 0000002C 00                              	DB	0
   242 0000002D 00                              	DB	0
   243 0000002E 00                              	DB	0
   244 0000002F 84                              	DB	-124
   245 00000030 84                              	DB	-124
   246 00000031 00                              	DB	0
   247 00000032 84                              	DB	-124
   248 00000033 00                              	DB	0
   249 00000034 84                              	DB	-124
   250 00000035 84                              	DB	-124
   251 00000036 84                              	DB	-124
   252 00000037 84                              	DB	-124
   253 00000038 84                              	DB	-124
   254                                          [SECTION .text]
   255 000001E3                                 	GLOBAL	_init_palette
   256 000001E3                                 _init_palette:
   257 000001E3 55                              	PUSH	EBP
   258 000001E4 89 E5                           	MOV	EBP,ESP
   259 000001E6 68 [00000009]                   	PUSH	_table_rgb.0
   260 000001EB 6A 0F                           	PUSH	15
   261 000001ED 6A 00                           	PUSH	0
   262 000001EF E8 00000002                     	CALL	_set_palette
   263 000001F4 C9                              	LEAVE
   264 000001F5 C3                              	RET
   265 000001F6                                 	GLOBAL	_set_palette
   266 000001F6                                 _set_palette:
   267 000001F6 55                              	PUSH	EBP
   268 000001F7 89 E5                           	MOV	EBP,ESP
   269 000001F9 57                              	PUSH	EDI
   270 000001FA 56                              	PUSH	ESI
   271 000001FB 53                              	PUSH	EBX
   272 000001FC 51                              	PUSH	ECX
   273 000001FD 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   274 00000200 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   275 00000203 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   276 00000206 E8 [00000000]                   	CALL	_io_load_eflags
   277 0000020B 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   278 0000020E E8 [00000000]                   	CALL	_io_cli
   279 00000213 53                              	PUSH	EBX
   280 00000214 68 000003C8                     	PUSH	968
   281 00000219 E8 [00000000]                   	CALL	_io_out8
   282 0000021E 39 FB                           	CMP	EBX,EDI
   283 00000220 58                              	POP	EAX
   284 00000221 5A                              	POP	EDX
   285 00000222 7E 12                           	JLE	L12
   286 00000224                                 L14:
   287 00000224 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   288 00000227 89 45 08                        	MOV	DWORD [8+EBP],EAX
   289 0000022A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   290 0000022D 5B                              	POP	EBX
   291 0000022E 5E                              	POP	ESI
   292 0000022F 5F                              	POP	EDI
   293 00000230 5D                              	POP	EBP
   294 00000231 E9 [00000000]                   	JMP	_io_store_eflags
   295 00000236                                 L12:
   296 00000236 8A 06                           	MOV	AL,BYTE [ESI]
   297 00000238 43                              	INC	EBX
   298 00000239 C0 E8 02                        	SHR	AL,2
   299 0000023C 0F B6 C0                        	MOVZX	EAX,AL
   300 0000023F 50                              	PUSH	EAX
   301 00000240 68 000003C9                     	PUSH	969
   302 00000245 E8 [00000000]                   	CALL	_io_out8
   303 0000024A 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   304 0000024D C0 E8 02                        	SHR	AL,2
   305 00000250 0F B6 C0                        	MOVZX	EAX,AL
   306 00000253 50                              	PUSH	EAX
   307 00000254 68 000003C9                     	PUSH	969
   308 00000259 E8 [00000000]                   	CALL	_io_out8
   309 0000025E 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   310 00000261 C0 E8 02                        	SHR	AL,2
   311 00000264 83 C6 03                        	ADD	ESI,3
   312 00000267 0F B6 C0                        	MOVZX	EAX,AL
   313 0000026A 50                              	PUSH	EAX
   314 0000026B 68 000003C9                     	PUSH	969
   315 00000270 E8 [00000000]                   	CALL	_io_out8
   316 00000275 83 C4 18                        	ADD	ESP,24
   317 00000278 39 FB                           	CMP	EBX,EDI
   318 0000027A 7E BA                           	JLE	L12
   319 0000027C EB A6                           	JMP	L14
   320 0000027E                                 	GLOBAL	_draw_rectangle
   321 0000027E                                 _draw_rectangle:
   322 0000027E 55                              	PUSH	EBP
   323 0000027F 89 E5                           	MOV	EBP,ESP
   324 00000281 57                              	PUSH	EDI
   325 00000282 56                              	PUSH	ESI
   326 00000283 53                              	PUSH	EBX
   327 00000284 57                              	PUSH	EDI
   328 00000285 57                              	PUSH	EDI
   329 00000286 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   330 00000289 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   331 0000028C 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   332 0000028F 39 FB                           	CMP	EBX,EDI
   333 00000291 7F 29                           	JG	L27
   334 00000293                                 L25:
   335 00000293 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   336 00000296 39 F1                           	CMP	ECX,ESI
   337 00000298 7F 1D                           	JG	L29
   338 0000029A 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   339 0000029D 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   340 000002A0 0F AF C1                        	IMUL	EAX,ECX
   341 000002A3 01 DA                           	ADD	EDX,EBX
   342 000002A5 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   343 000002A8 01 D0                           	ADD	EAX,EDX
   344 000002AA                                 L24:
   345 000002AA 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   346 000002AD 41                              	INC	ECX
   347 000002AE 88 10                           	MOV	BYTE [EAX],DL
   348 000002B0 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
   349 000002B3 39 F1                           	CMP	ECX,ESI
   350 000002B5 7E F3                           	JLE	L24
   351 000002B7                                 L29:
   352 000002B7 43                              	INC	EBX
   353 000002B8 39 FB                           	CMP	EBX,EDI
   354 000002BA 7E D7                           	JLE	L25
   355 000002BC                                 L27:
   356 000002BC 5B                              	POP	EBX
   357 000002BD 5E                              	POP	ESI
   358 000002BE 5B                              	POP	EBX
   359 000002BF 5E                              	POP	ESI
   360 000002C0 5F                              	POP	EDI
   361 000002C1 5D                              	POP	EBP
   362 000002C2 C3                              	RET
   363 000002C3                                 	GLOBAL	_putfont8
   364 000002C3                                 _putfont8:
   365 000002C3 55                              	PUSH	EBP
   366 000002C4 89 E5                           	MOV	EBP,ESP
   367 000002C6 57                              	PUSH	EDI
   368 000002C7 56                              	PUSH	ESI
   369 000002C8 53                              	PUSH	EBX
   370 000002C9 31 DB                           	XOR	EBX,EBX
   371 000002CB 51                              	PUSH	ECX
   372 000002CC 51                              	PUSH	ECX
   373 000002CD 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   374 000002D0 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   375 000002D3 88 45 EF                        	MOV	BYTE [-17+EBP],AL
   376 000002D6                                 L43:
   377 000002D6 8B 4D 1C                        	MOV	ECX,DWORD [28+EBP]
   378 000002D9 8A 14 0B                        	MOV	DL,BYTE [EBX+ECX*1]
   379 000002DC 84 D2                           	TEST	DL,DL
   380 000002DE 79 14                           	JNS	L35
   381 000002E0 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   382 000002E3 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   383 000002E6 01 D8                           	ADD	EAX,EBX
   384 000002E8 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   385 000002EB 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   386 000002EF 01 F8                           	ADD	EAX,EDI
   387 000002F1 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   388 000002F4                                 L35:
   389 000002F4 88 D0                           	MOV	AL,DL
   390 000002F6 83 E0 40                        	AND	EAX,64
   391 000002F9 84 C0                           	TEST	AL,AL
   392 000002FB 74 15                           	JE	L36
   393 000002FD 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   394 00000300 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   395 00000303 01 D8                           	ADD	EAX,EBX
   396 00000305 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   397 00000308 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   398 0000030C 01 F8                           	ADD	EAX,EDI
   399 0000030E 88 4C 30 01                     	MOV	BYTE [1+EAX+ESI*1],CL
   400 00000312                                 L36:
   401 00000312 88 D0                           	MOV	AL,DL
   402 00000314 83 E0 20                        	AND	EAX,32
   403 00000317 84 C0                           	TEST	AL,AL
   404 00000319 74 15                           	JE	L37
   405 0000031B 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   406 0000031E 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   407 00000321 01 D8                           	ADD	EAX,EBX
   408 00000323 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   409 00000326 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   410 0000032A 01 F8                           	ADD	EAX,EDI
   411 0000032C 88 4C 30 02                     	MOV	BYTE [2+EAX+ESI*1],CL
   412 00000330                                 L37:
   413 00000330 88 D0                           	MOV	AL,DL
   414 00000332 83 E0 10                        	AND	EAX,16
   415 00000335 84 C0                           	TEST	AL,AL
   416 00000337 74 15                           	JE	L38
   417 00000339 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   418 0000033C 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   419 0000033F 01 D8                           	ADD	EAX,EBX
   420 00000341 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   421 00000344 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   422 00000348 01 F8                           	ADD	EAX,EDI
   423 0000034A 88 4C 30 03                     	MOV	BYTE [3+EAX+ESI*1],CL
   424 0000034E                                 L38:
   425 0000034E 88 D0                           	MOV	AL,DL
   426 00000350 83 E0 08                        	AND	EAX,8
   427 00000353 84 C0                           	TEST	AL,AL
   428 00000355 74 15                           	JE	L39
   429 00000357 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   430 0000035A 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   431 0000035D 01 D8                           	ADD	EAX,EBX
   432 0000035F 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   433 00000362 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   434 00000366 01 F8                           	ADD	EAX,EDI
   435 00000368 88 4C 30 04                     	MOV	BYTE [4+EAX+ESI*1],CL
   436 0000036C                                 L39:
   437 0000036C 88 D0                           	MOV	AL,DL
   438 0000036E 83 E0 04                        	AND	EAX,4
   439 00000371 84 C0                           	TEST	AL,AL
   440 00000373 74 15                           	JE	L40
   441 00000375 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   442 00000378 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   443 0000037B 01 D8                           	ADD	EAX,EBX
   444 0000037D 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   445 00000380 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   446 00000384 01 F8                           	ADD	EAX,EDI
   447 00000386 88 4C 30 05                     	MOV	BYTE [5+EAX+ESI*1],CL
   448 0000038A                                 L40:
   449 0000038A 88 D0                           	MOV	AL,DL
   450 0000038C 83 E0 02                        	AND	EAX,2
   451 0000038F 84 C0                           	TEST	AL,AL
   452 00000391 74 15                           	JE	L41
   453 00000393 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   454 00000396 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   455 00000399 01 D8                           	ADD	EAX,EBX
   456 0000039B 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   457 0000039E 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   458 000003A2 01 F8                           	ADD	EAX,EDI
   459 000003A4 88 4C 30 06                     	MOV	BYTE [6+EAX+ESI*1],CL
   460 000003A8                                 L41:
   461 000003A8 83 E2 01                        	AND	EDX,1
   462 000003AB 84 D2                           	TEST	DL,DL
   463 000003AD 74 15                           	JE	L33
   464 000003AF 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   465 000003B2 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   466 000003B5 01 D8                           	ADD	EAX,EBX
   467 000003B7 8A 55 EF                        	MOV	DL,BYTE [-17+EBP]
   468 000003BA 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   469 000003BE 01 F8                           	ADD	EAX,EDI
   470 000003C0 88 54 08 07                     	MOV	BYTE [7+EAX+ECX*1],DL
   471 000003C4                                 L33:
   472 000003C4 43                              	INC	EBX
   473 000003C5 83 FB 0F                        	CMP	EBX,15
   474 000003C8 0F 8E FFFFFF08                  	JLE	L43
   475 000003CE 58                              	POP	EAX
   476 000003CF 5A                              	POP	EDX
   477 000003D0 5B                              	POP	EBX
   478 000003D1 5E                              	POP	ESI
   479 000003D2 5F                              	POP	EDI
   480 000003D3 5D                              	POP	EBP
   481 000003D4 C3                              	RET
   482 000003D5                                 	GLOBAL	_putfont8_str
   483 000003D5                                 _putfont8_str:
   484 000003D5 55                              	PUSH	EBP
   485 000003D6 89 E5                           	MOV	EBP,ESP
   486 000003D8 57                              	PUSH	EDI
   487 000003D9 56                              	PUSH	ESI
   488 000003DA 53                              	PUSH	EBX
   489 000003DB 53                              	PUSH	EBX
   490 000003DC 53                              	PUSH	EBX
   491 000003DD 8B 75 1C                        	MOV	ESI,DWORD [28+EBP]
   492 000003E0 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   493 000003E3 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   494 000003E6 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
   495 000003E9 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   496 000003EC 80 3E 00                        	CMP	BYTE [ESI],0
   497 000003EF 75 08                           	JNE	L52
   498 000003F1                                 L54:
   499 000003F1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   500 000003F4 5B                              	POP	EBX
   501 000003F5 5E                              	POP	ESI
   502 000003F6 5F                              	POP	EDI
   503 000003F7 5D                              	POP	EBP
   504 000003F8 C3                              	RET
   505 000003F9                                 L52:
   506 000003F9 0F B6 06                        	MOVZX	EAX,BYTE [ESI]
   507 000003FC C1 E0 04                        	SAL	EAX,4
   508 000003FF 05 [00000000]                   	ADD	EAX,_font
   509 00000404 50                              	PUSH	EAX
   510 00000405 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   511 00000409 50                              	PUSH	EAX
   512 0000040A 57                              	PUSH	EDI
   513 0000040B 53                              	PUSH	EBX
   514 0000040C 83 C3 08                        	ADD	EBX,8
   515 0000040F FF 75 0C                        	PUSH	DWORD [12+EBP]
   516 00000412 FF 75 08                        	PUSH	DWORD [8+EBP]
   517 00000415 E8 FFFFFEA9                     	CALL	_putfont8
   518 0000041A 83 C4 18                        	ADD	ESP,24
   519 0000041D 3B 5D 0C                        	CMP	EBX,DWORD [12+EBP]
   520 00000420 7C 0F                           	JL	L49
   521 00000422 89 D8                           	MOV	EAX,EBX
   522 00000424 B9 00000140                     	MOV	ECX,320
   523 00000429 99                              	CDQ
   524 0000042A F7 F9                           	IDIV	ECX
   525 0000042C 83 C7 10                        	ADD	EDI,16
   526 0000042F 89 D3                           	MOV	EBX,EDX
   527 00000431                                 L49:
   528 00000431 46                              	INC	ESI
   529 00000432 80 3E 00                        	CMP	BYTE [ESI],0
   530 00000435 75 C2                           	JNE	L52
   531 00000437 EB B8                           	JMP	L54
   532                                          [SECTION .data]
   533 00000039                                 _cursor.1:
   534 00000039 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       00000043 2A 2A 2A 2A 2E 2E 
   535 00000049 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       00000053 4F 4F 2A 2E 2E 2E 
   536 00000059 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       00000063 4F 2A 2E 2E 2E 2E 
   537 00000069 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       00000073 2A 2E 2E 2E 2E 2E 
   538 00000079 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       00000083 2E 2E 2E 2E 2E 2E 
   539 00000089 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       00000093 2E 2E 2E 2E 2E 2E 
   540 00000099 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000A3 2E 2E 2E 2E 2E 2E 
   541 000000A9 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000B3 2E 2E 2E 2E 2E 2E 
   542 000000B9 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       000000C3 2A 2E 2E 2E 2E 2E 
   543 000000C9 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000D3 4F 2A 2E 2E 2E 2E 
   544 000000D9 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000E3 4F 4F 2A 2E 2E 2E 
   545 000000E9 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       000000F3 4F 4F 4F 2A 2E 2E 
   546 000000F9 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       00000103 2A 4F 4F 4F 2A 2E 
   547 00000109 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       00000113 2E 2A 4F 4F 4F 2A 
   548 00000119 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       00000123 2E 2E 2A 4F 4F 2A 
   549 00000129 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       00000133 2E 2E 2E 2A 2A 2A 
   550                                          [SECTION .text]
   551 00000439                                 	GLOBAL	_init_mouse_cursor8
   552 00000439                                 _init_mouse_cursor8:
   553 00000439 55                              	PUSH	EBP
   554 0000043A 89 E5                           	MOV	EBP,ESP
   555 0000043C 57                              	PUSH	EDI
   556 0000043D 56                              	PUSH	ESI
   557 0000043E 53                              	PUSH	EBX
   558 0000043F 31 DB                           	XOR	EBX,EBX
   559 00000441 57                              	PUSH	EDI
   560 00000442 31 FF                           	XOR	EDI,EDI
   561 00000444 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   562 00000447 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   563 0000044A 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   564 0000044D                                 L68:
   565 0000044D 31 D2                           	XOR	EDX,EDX
   566 0000044F                                 L67:
   567 0000044F 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   568 00000452 80 B8 [00000039] 2A             	CMP	BYTE [_cursor.1+EAX],42
   569 00000459 74 35                           	JE	L73
   570 0000045B                                 L64:
   571 0000045B 80 B8 [00000039] 4F             	CMP	BYTE [_cursor.1+EAX],79
   572 00000462 74 26                           	JE	L74
   573 00000464                                 L65:
   574 00000464 80 B8 [00000039] 2E             	CMP	BYTE [_cursor.1+EAX],46
   575 0000046B 74 15                           	JE	L75
   576 0000046D                                 L62:
   577 0000046D 42                              	INC	EDX
   578 0000046E 83 FA 0F                        	CMP	EDX,15
   579 00000471 7E DC                           	JLE	L67
   580 00000473 43                              	INC	EBX
   581 00000474 83 C7 10                        	ADD	EDI,16
   582 00000477 83 FB 0F                        	CMP	EBX,15
   583 0000047A 7E D1                           	JLE	L68
   584 0000047C 5E                              	POP	ESI
   585 0000047D 5B                              	POP	EBX
   586 0000047E 5E                              	POP	ESI
   587 0000047F 5F                              	POP	EDI
   588 00000480 5D                              	POP	EBP
   589 00000481 C3                              	RET
   590 00000482                                 L75:
   591 00000482 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   592 00000485 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   593 00000488 EB E3                           	JMP	L62
   594 0000048A                                 L74:
   595 0000048A C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   596 0000048E EB D4                           	JMP	L65
   597 00000490                                 L73:
   598 00000490 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   599 00000494 EB C5                           	JMP	L64
   600 00000496                                 	GLOBAL	_putblock8_8
   601 00000496                                 _putblock8_8:
   602 00000496 55                              	PUSH	EBP
   603 00000497 89 E5                           	MOV	EBP,ESP
   604 00000499 57                              	PUSH	EDI
   605 0000049A 56                              	PUSH	ESI
   606 0000049B 31 F6                           	XOR	ESI,ESI
   607 0000049D 53                              	PUSH	EBX
   608 0000049E 83 EC 0C                        	SUB	ESP,12
   609 000004A1 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   610 000004A4 7D 3E                           	JGE	L88
   611 000004A6 31 FF                           	XOR	EDI,EDI
   612 000004A8                                 L86:
   613 000004A8 31 DB                           	XOR	EBX,EBX
   614 000004AA 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   615 000004AD 7D 2C                           	JGE	L90
   616 000004AF 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   617 000004B2 01 F8                           	ADD	EAX,EDI
   618 000004B4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   619 000004B7                                 L85:
   620 000004B7 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   621 000004BA 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   622 000004BD 01 F0                           	ADD	EAX,ESI
   623 000004BF 01 DA                           	ADD	EDX,EBX
   624 000004C1 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   625 000004C5 01 D0                           	ADD	EAX,EDX
   626 000004C7 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   627 000004CA 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   628 000004CD 43                              	INC	EBX
   629 000004CE 8A 12                           	MOV	DL,BYTE [EDX]
   630 000004D0 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   631 000004D3 FF 45 EC                        	INC	DWORD [-20+EBP]
   632 000004D6 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   633 000004D9 7C DC                           	JL	L85
   634 000004DB                                 L90:
   635 000004DB 46                              	INC	ESI
   636 000004DC 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   637 000004DF 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   638 000004E2 7C C4                           	JL	L86
   639 000004E4                                 L88:
   640 000004E4 83 C4 0C                        	ADD	ESP,12
   641 000004E7 5B                              	POP	EBX
   642 000004E8 5E                              	POP	ESI
   643 000004E9 5F                              	POP	EDI
   644 000004EA 5D                              	POP	EBP
   645 000004EB C3                              	RET
   646 000004EC                                 	GLOBAL	_init_gdtidt
   647 000004EC                                 _init_gdtidt:
   648 000004EC 55                              	PUSH	EBP
   649 000004ED 89 E5                           	MOV	EBP,ESP
   650 000004EF 56                              	PUSH	ESI
   651 000004F0 53                              	PUSH	EBX
   652 000004F1 BE 00270000                     	MOV	ESI,2555904
   653 000004F6 BB 00001FFF                     	MOV	EBX,8191
   654 000004FB                                 L96:
   655 000004FB 6A 00                           	PUSH	0
   656 000004FD 6A 00                           	PUSH	0
   657 000004FF 6A 00                           	PUSH	0
   658 00000501 56                              	PUSH	ESI
   659 00000502 83 C6 08                        	ADD	ESI,8
   660 00000505 E8 0000007B                     	CALL	_set_segmdesc
   661 0000050A 83 C4 10                        	ADD	ESP,16
   662 0000050D 4B                              	DEC	EBX
   663 0000050E 79 EB                           	JNS	L96
   664 00000510 68 00004092                     	PUSH	16530
   665 00000515 BE 0026F800                     	MOV	ESI,2553856
   666 0000051A 6A 00                           	PUSH	0
   667 0000051C BB 000000FF                     	MOV	EBX,255
   668 00000521 6A FF                           	PUSH	-1
   669 00000523 68 00270008                     	PUSH	2555912
   670 00000528 E8 00000058                     	CALL	_set_segmdesc
   671 0000052D 68 0000409A                     	PUSH	16538
   672 00000532 68 00280000                     	PUSH	2621440
   673 00000537 68 0007FFFF                     	PUSH	524287
   674 0000053C 68 00270010                     	PUSH	2555920
   675 00000541 E8 0000003F                     	CALL	_set_segmdesc
   676 00000546 83 C4 20                        	ADD	ESP,32
   677 00000549 68 00270000                     	PUSH	2555904
   678 0000054E 68 0000FFFF                     	PUSH	65535
   679 00000553 E8 [00000000]                   	CALL	_load_gdtr
   680 00000558 58                              	POP	EAX
   681 00000559 5A                              	POP	EDX
   682 0000055A                                 L101:
   683 0000055A 6A 00                           	PUSH	0
   684 0000055C 6A 00                           	PUSH	0
   685 0000055E 6A 00                           	PUSH	0
   686 00000560 56                              	PUSH	ESI
   687 00000561 83 C6 08                        	ADD	ESI,8
   688 00000564 E8 00000066                     	CALL	_set_gatedesc
   689 00000569 83 C4 10                        	ADD	ESP,16
   690 0000056C 4B                              	DEC	EBX
   691 0000056D 79 EB                           	JNS	L101
   692 0000056F 68 0026F800                     	PUSH	2553856
   693 00000574 68 000007FF                     	PUSH	2047
   694 00000579 E8 [00000000]                   	CALL	_load_idtr
   695 0000057E 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   696 00000581 5B                              	POP	EBX
   697 00000582 5E                              	POP	ESI
   698 00000583 5D                              	POP	EBP
   699 00000584 C3                              	RET
   700 00000585                                 	GLOBAL	_set_segmdesc
   701 00000585                                 _set_segmdesc:
   702 00000585 55                              	PUSH	EBP
   703 00000586 89 E5                           	MOV	EBP,ESP
   704 00000588 53                              	PUSH	EBX
   705 00000589 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   706 0000058C 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   707 0000058F 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   708 00000592 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   709 00000595 81 FA 000FFFFF                  	CMP	EDX,1048575
   710 0000059B 76 08                           	JBE	L107
   711 0000059D C1 EA 0C                        	SHR	EDX,12
   712 000005A0 0D 00008000                     	OR	EAX,32768
   713 000005A5                                 L107:
   714 000005A5 66 89 13                        	MOV	WORD [EBX],DX
   715 000005A8 88 43 05                        	MOV	BYTE [5+EBX],AL
   716 000005AB C1 EA 10                        	SHR	EDX,16
   717 000005AE C1 F8 08                        	SAR	EAX,8
   718 000005B1 83 E2 0F                        	AND	EDX,15
   719 000005B4 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   720 000005B8 83 E0 F0                        	AND	EAX,-16
   721 000005BB C1 F9 10                        	SAR	ECX,16
   722 000005BE 09 C2                           	OR	EDX,EAX
   723 000005C0 88 4B 04                        	MOV	BYTE [4+EBX],CL
   724 000005C3 88 53 06                        	MOV	BYTE [6+EBX],DL
   725 000005C6 C1 F9 08                        	SAR	ECX,8
   726 000005C9 88 4B 07                        	MOV	BYTE [7+EBX],CL
   727 000005CC 5B                              	POP	EBX
   728 000005CD 5D                              	POP	EBP
   729 000005CE C3                              	RET
   730 000005CF                                 	GLOBAL	_set_gatedesc
   731 000005CF                                 _set_gatedesc:
   732 000005CF 55                              	PUSH	EBP
   733 000005D0 89 E5                           	MOV	EBP,ESP
   734 000005D2 53                              	PUSH	EBX
   735 000005D3 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   736 000005D6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   737 000005D9 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   738 000005DC 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   739 000005DF 66 89 42 02                     	MOV	WORD [2+EDX],AX
   740 000005E3 88 5A 05                        	MOV	BYTE [5+EDX],BL
   741 000005E6 66 89 0A                        	MOV	WORD [EDX],CX
   742 000005E9 89 D8                           	MOV	EAX,EBX
   743 000005EB C1 F8 08                        	SAR	EAX,8
   744 000005EE C1 F9 10                        	SAR	ECX,16
   745 000005F1 88 42 04                        	MOV	BYTE [4+EDX],AL
   746 000005F4 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   747 000005F8 5B                              	POP	EBX
   748 000005F9 5D                              	POP	EBP
   749 000005FA C3                              	RET
